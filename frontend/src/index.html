<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á—ë—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏</h1>
            <div id="authButtons">
                <button onclick="showLogin()">–í—Ö–æ–¥</button>
                <button onclick="showRegister()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            <div id="userInfo" style="display: none;">
                <span id="username"></span>
                <button onclick="logout()">–í—ã—Ö–æ–¥</button>
            </div>
        </header>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="loginForm" class="form-container" style="display: block;">
            <h2>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
            <form id="loginFormElement" onsubmit="login(event)">
                <input type="text" id="loginUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit">–í–æ–π—Ç–∏</button>
                <p class="switch-form">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" onclick="showRegister()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
            </form>
        </div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="registerForm" class="form-container" style="display: none;">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <form id="registerFormElement" onsubmit="register(event)">
                <input type="text" id="regUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                <input type="email" id="regEmail" placeholder="Email" required>
                <input type="password" id="regPassword" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                <p class="switch-form">–ï—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showLogin()">–í–æ–π—Ç–∏</a></p>
            </form>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div id="usersList" style="display: none;">
            <h2>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
            <button onclick="loadUsers()" class="refresh-btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
            <table id="usersTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
                        <th>Email</th>
                        <th>–†–æ–ª—å</th>
                        <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                    </tr>
                </thead>
                <tbody id="usersTableBody">
                </tbody>
            </table>
        </div>

        <!-- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
        <div id="adminPanel" style="display: none;">
            <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
            <div class="admin-actions">
                <button onclick="window.open('http://localhost:8080', '_blank')" class="admin-btn">
                    –û—Ç–∫—Ä—ã—Ç—å Adminer (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î)
                </button>
                <button onclick="loadRedisStats()" class="admin-btn" style="background: #dc3545;">
                    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ Redis (5-–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
                </button>
                <div class="db-info">
                    <p><strong>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:</strong> PostgreSQL</p>
                    <p><strong>–°–µ—Ä–≤–µ—Ä:</strong> postgres</p>
                    <p><strong>–ë–î:</strong> userdb</p>
                    <p><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> postgres</p>
                </div>
                <div id="redisStats" class="db-info" style="display: none; background: #fff3cd;">
                    <h3>üìä Redis –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                    <div id="redisStatsContent"></div>
                </div>
            </div>
        </div>

        <div id="message" class="message"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
